{"version":3,"sources":["../../../src/lib/vite-plugins/default-adapter.ts"],"sourcesContent":["import type { Plugin } from 'vite';\n\nexport function defaultAdapterPlugin({\n  unstable_adapter: adapterName,\n}: {\n  unstable_adapter: string;\n}): Plugin {\n  const adapterModule = 'waku/adapters/default';\n  return {\n    name: 'waku:vite-plugins:default-adapter',\n    enforce: 'pre',\n    async resolveId(source, _importer, options) {\n      if (source === adapterModule) {\n        const resolved = await this.resolve(adapterName, undefined, {\n          ...options,\n          skipSelf: true,\n        });\n        if (!resolved) {\n          return this.error(\n            `Failed to resolve adapter package: ${adapterName}`,\n          );\n        }\n        return resolved;\n      }\n    },\n  };\n}\n"],"names":["defaultAdapterPlugin","unstable_adapter","adapterName","adapterModule","name","enforce","resolveId","source","_importer","options","resolved","resolve","undefined","skipSelf","error"],"mappings":"AAEA,OAAO,SAASA,qBAAqB,EACnCC,kBAAkBC,WAAW,EAG9B;IACC,MAAMC,gBAAgB;IACtB,OAAO;QACLC,MAAM;QACNC,SAAS;QACT,MAAMC,WAAUC,MAAM,EAAEC,SAAS,EAAEC,OAAO;YACxC,IAAIF,WAAWJ,eAAe;gBAC5B,MAAMO,WAAW,MAAM,IAAI,CAACC,OAAO,CAACT,aAAaU,WAAW;oBAC1D,GAAGH,OAAO;oBACVI,UAAU;gBACZ;gBACA,IAAI,CAACH,UAAU;oBACb,OAAO,IAAI,CAACI,KAAK,CACf,CAAC,mCAAmC,EAAEZ,aAAa;gBAEvD;gBACA,OAAOQ;YACT;QACF;IACF;AACF"}